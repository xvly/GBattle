module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(1)),a=(y(n(4)),y(n(3))),u=n(2),c=y(n(6)),s=y(n(9)),f=y(n(10)),d=y(n(11)),l=y(n(5)),g=y(n(8)),v=y(n(7)),p=y(n(12)),h=y(n(13)),_=y(n(14));function y(e){return e&&e.__esModule?e:{default:e}}var m,S,O,T=(m=function(e){v.default.APP_IS_SHOW=!0,v.default.APP_STATUS_SHOW_STAMPS.push(Date.now()),s.default.mergeAndSetClipBorad(e),c.default.sendStatsticLogAndInfo(e),h.default.sendBannerBack(e),f.default.sendTigerLogin(e)},S=function(e){v.default.fetchInitData(e)},O=function(){v.default.APP_IS_SHOW=!1,v.default.APP_STATUS_HIDE_STAMPS.push(Date.now())},new(function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a.default.isRuningMiniGame()){if(GameGlobal.XH_SDK)return void console.error("基础SDK禁止再次初始化，请排查是否引入了多份基础SDK");GameGlobal.XH_SDK=this;var t=wx.getLaunchOptionsSync();S(t),wx.onShow(m),wx.onHide(O)}else a.default.isRuningMiniPro()&&a.default.addPreHook("App",{onLaunch:S,onShow:m,onHide:O})}return o(e,[{key:"navigateToMoreGame",value:function(){return console.error("navigateToMoreGame:此方法已停用"),Promise.resolve()}},{key:"navigateToFloatAd",value:function(){return console.error("navigateToFloatAd:此方法已停用"),Promise.resolve()}},{key:"navigateToFirstScreenAd",value:function(){return console.error("navigateToFirstScreenAd:此方法已停用"),Promise.resolve()}},{key:"getFirstScreenAd",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).app_version,console.error("getFirstScreenAd： 该接口已停用"),Promise.resolve()}},{key:"getFloatAd",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).app_version,console.error("getFirstScreenAd： 该接口已停用"),Promise.resolve()}},{key:"navigateToMiniProgram",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.path,r=void 0===n?"pages/index/index":n,o=e.extraData,i=e.envVersion,a=void 0===i?"release":i;return v.default.navigateToMiniProgram({appId:t,path:r,extraData:o,envVersion:a})}},{key:"sendLoadingLog",value:function(e){if(a.default.isRuningMiniGame())return c.default.sendLoadingLog(e);console.error("[sendLoadingLog]: 该接口目前仅支持小游戏")}},{key:"navigateToTiger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.default.navigate(e)}},{key:"getTigerList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.default.getList(e)}},{key:"createTiger",value:function(e){var t=e.tiger_position_id,n=e.app_version,o=e.x,i=e.y,u=e.width,c=e.zIndex,s={};return t||console.error("请传入正确的tiger_position_id"),n||console.error("请传入正确的当前应用版本"),a.default.isRuningMiniGame()?"object"===("undefined"==typeof cc?"undefined":r(cc))&&"object"===r(cc.sys)&&cc.sys.platform===cc.sys.WECHAT_GAME?s=new _.default(t,n,u,o,i,c):console.error("该API只支持cocos引擎环境使用"):console.error("请在微信小程序环境下使用"),s}},{key:"createRewardedVideoAd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g.default.create(e)}},{key:"onMergeAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail;s.default.onMergeAccount({success:t,fail:n})}},{key:"getSDKConfig",value:function(){return a.default.deepClone(u.SDK_CONFIG)}},{key:"login",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).refresh,t=void 0!==e&&e;return l.default.fetchUserInfo({openIdOnly:!t})}},{key:"updateUserInfo",value:function(e){return l.default.updateUserInfo(e)}},{key:"pay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coin,n=e.program_param;return d.default.start({coin:t,program_param:n})}},{key:"cancelLockPay",value:function(e){var t=e.order_code;return d.default.cancelLockPay({order_code:t})}},{key:"updateGold",value:function(e){var t=e.gold,n=e.gold_desc,r=void 0===n?"":n;return d.default.updateGold({gold:t,gold_desc:r})}},{key:"getGoldBalance",value:function(){return d.default.getGoldBalance()}},{key:"getGameSwitchConfig",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version,t=void 0===e?"":e;return i.default.getGameSwitchConfig({version:t})}},{key:"getShareTemplates",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version,t=void 0===e?"":e;return p.default.getShareTemplates({version:t})}},{key:"switchRequestLog",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).open;v.default.switchRequestLog({open:e})}},{key:"createBannerAd",value:function(e){return h.default.createBannerAd(e)}},{key:"getTigerConfig",value:function(e){return f.default.getTigerConfig(e)}}]),e}()));e.exports=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=c(n(3)),i=c(n(4)),a=c(n(5)),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=null,t=null,n={test:"https://test.kuaiyugo.com"},c=function(){return n[r.SDK_CONFIG.ENV]+"/api/tiger/v1/config"},f=function(){return n[r.SDK_CONFIG.ENV]+"/api/tiger/v1/qrcode"},d=function(e){return n[r.SDK_CONFIG.ENV]+"/api/tiger/v1/delivery/"+e},l=function(){return n[r.SDK_CONFIG.ENV]+"/api/platuser/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/miniprogram_sessions"},g=function(){return n[r.SDK_CONFIG.ENV]+"/api/oauth/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/authroizes"},v=function(){return n[r.SDK_CONFIG.ENV]+"/api/oauth/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/access_tokens"},p=function(){return n[r.SDK_CONFIG.ENV]+"/api/oauth/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/check"},h=function(){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/midas_orders"},_=function(){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/wx_orders"},y=function(){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/pay_types"},m=function(e){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/orders/"+e+"/status"},S=function(){return n[r.SDK_CONFIG.ENV]+"/api/platuser/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/mergers"},O=function(){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/gold_balances"},T=function(){return n[r.SDK_CONFIG.ENV]+"/api/config/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/share_templates"},I=function(){return n[r.SDK_CONFIG.ENV]+"/api/config/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/judge_configs"},w=function(e){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/orders/"+e+"/confirm_pays"},E=function(){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/midas_balances"},P=function(){return n[r.SDK_CONFIG.ENV]+"/api/platuser/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/refresh_session"},C=function(e){return n[r.SDK_CONFIG.ENV]+"/api/payment/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/users/"+i.default.get("xhstat_uuid")+"/orders/"+e+"/cancel_orders"},k=function(){return n[r.SDK_CONFIG.ENV]+"/api/config/v1/programs/"+r.SDK_CONFIG.PROGRAM_ID+"/ad_configs"};function A(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceRefresh,t=r.STORAGE_KEYS.AUTH_CODE_INFO_STORAGE_KEY;return Promise.resolve().then(function(){return a.default.fetchUserInfo({openIdOnly:!0})}).then(function(){return o.default.getStorage(t)}).then(function(t){return e?s.getAuthCode():t&&t.expires_at?o.default.checkExpireByServerTimeFormat(t.expires_at,6e4)?s.getAuthCode():(t.fromCache=!0,t):s.getAuthCode()}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.fromCache?e.code:o.default.setStorage(t,e).then(function(e){return e.code})})}function R(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceRefresh,n=void 0!==e&&e;return t||(t=Promise.resolve().then(function(){return A({forceRefresh:n})}).then(function(e){return function e(t){var n=t.code,a=t.forceRefresh,u=void 0!==a&&a,c=r.STORAGE_KEYS.ACCESS_TOKEN_INFO_STORAGE_KEY;return Promise.resolve().then(function(){return o.default.getStorage(c)}).then(function(e){return e&&e.expires_at&&!u?o.default.checkExpireByServerTimeFormat(e.expires_at,18e4)?s.getAccessToken({code:n}):(e.fromCache=!0,e):s.getAccessToken({code:n})}).then(function(e){var t=e;return t.fromCache?t.access_token:(i.default.set("xhstat_access_token",t.access_token),o.default.setStorage(c,t).then(function(e){return e.access_token}))}).catch(function(t){if(1013===t.err)return A({forceRefresh:!0}).then(function(t){return e({code:t})});console.error(t)})}({code:e,forceRefresh:n})}).then(function(e){return t=null,e})),t}var M={getTigerGlobalConfig:{method:"GET",urlMaker:function(){return c()},noAccessToken:!0},getTigerQrcode:{method:"GET",urlMaker:function(){return f()},noAccessToken:!0,dataMaker:function(e){var t=e.creative_id;return{tiger_position_id:e.tiger_position_id,creative_id:t}}},getTigerList:{method:"GET",urlMaker:function(e){var t=e.tiger_position_id;return d(t)},dataMaker:function(e){var t=e.version;return{gender:e.gender,version:t,openid:e.openid}}},postUserInfo:{method:"POST",urlMaker:function(e){return l()},dataMaker:function(e){return{auth_mode:e.auth_mode,wx_code:e.wx_code,wx_encrypted_data:e.wx_encrypted_data,wx_iv:e.wx_iv,wx_signature:e.wx_signature}},headerMaker:function(){return b()},noAccessToken:!0},postUpdateUserInfo:{method:"POST",urlMaker:function(e){return l()},dataMaker:function(e){var t=e.userInfoDetail;return{openId:i.default.get("xhstat_uuid"),appId:r.SDK_CONFIG.APPID,encryptedData:t.encryptedData,iv:t.iv,signature:t.signature,rawData:t.rawData}},noAccessToken:!0},getAuthCode:{method:"GET",urlMaker:function(e){return g()},dataMaker:function(){return{openid:i.default.get("xhstat_uuid"),scope:"snsapi_base",redirect_uri:"https://www.starsriver.cn",response_type:"code",state:"code"}},noAccessToken:!0},getAccessToken:{method:"GET",urlMaker:function(e){return v()},dataMaker:function(e){var t=e.code;return{programId:r.SDK_CONFIG.PROGRAM_ID,openid:i.default.get("xhstat_uuid"),grant_type:"authorization_code",code:t,program_secret:r.SDK_CONFIG.PROGRAM_SECRET}},noAccessToken:!0},postCheckUserAccountStatus:{method:"POST",urlMaker:function(e){return p()},dataMaker:function(){return{}}},postCreateMidasPayOrder:{method:"POST",urlMaker:function(e){return h()},dataMaker:function(e){return{coin:e.coin,program_param:e.program_param}}},platuserRefreshSession:{method:"GET",urlMaker:function(){return P()},dataMaker:function(e){return{wx_code:e.wx_code}}},postCreateWxPayOrder:{method:"POST",urlMaker:function(e){return _()},dataMaker:function(e){return{coin:e.coin,program_param:e.program_param}}},getCheckPayType:{method:"GET",urlMaker:function(e){return y()},dataMaker:function(){return{}}},getCheckOrderStatus:{method:"GET",urlMaker:function(e){return m(e)},dataMaker:function(){return{}}},postMergeAccounts:{method:"POST",urlMaker:function(e){return S()},dataMaker:function(e){return{clipboard:e.clipboard}}},putUpdateGoldBalance:{method:"PUT",urlMaker:function(){return O()},dataMaker:function(e){return{gold:e.gold,transaction_type:e.transaction_type,gold_desc:e.gold_desc}}},getGoldBalance:{method:"GET",urlMaker:function(){return O()},dataMaker:function(){return{}}},getShareTemplate:{method:"GET",urlMaker:function(){return T()},dataMaker:function(e){return{version:e.version,openid:i.default.get("xhstat_uuid")}}},getGameSwitchConfig:{method:"GET",urlMaker:function(){return I()},dataMaker:function(e){return{version:e.version,programId:r.SDK_CONFIG.PROGRAM_ID}}},putConfirmPay:{method:"PUT",urlMaker:function(e){return w(e)},dataMaker:function(){return{}}},putCancelPay:{method:"PUT",urlMaker:function(e){return C(e)},dataMaker:function(){return{}}},putUpdateMidasBalance:{method:"PUT",urlMaker:function(e){return E()},dataMaker:function(){return{}}},getFloatAdConfig:{method:"GET",urlMaker:function(){return k()},dataMaker:function(e){return{type:4,app_version:e.app_version}}},getFirstScreenAdConfig:{method:"GET",urlMaker:function(){return k()},dataMaker:function(e){return{type:1,app_version:e.app_version}}}};function D(t){t.apiName;var i=t.urlMaker,a=t.dataMaker,c=t.method,f=void 0===c?"GET":c,d=t.headerMaker,l=t.noAccessToken,g=void 0!==l&&l,v=t.noLog,p=void 0!==v&&v;var h=null,_=0;return h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.resolve().then(function(){return u.default.networkRelink()}).then(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e||"test"===r.SDK_CONFIG.ENV||(e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=o.default.getVariableType(t);return"String"===n?Promise.resolve(t):0===t.length?Promise.reject(o.default.makeResponse(r.RESPONSE.NO_AVAILABLE_HOST)):Promise.resolve().then(function(){return o.default.promiseFy(wx.request,{url:t[0]})}).then(function(){return e(t[0])}).catch(function(){return e(t.slice(1))})}(t).then(function(e){n[r.SDK_CONFIG.ENV]=e})),e}(r.SPARE_HOSTS_LIST)}).then(function(){if(!g)return R()}).then(function(){return o.default.promiseFy(wx.request,{url:i(t),method:f,data:a&&a(t),header:d?d(t):b()})}).catch(function(e){var t=o.default.normalizeRes(e);return Promise.reject(t)}).then(function(e){var n=o.default.normalizeRes(e);try{!p&&s.REQUEST_LOG&&(console.warn("发起请求:"+f+i(t)),console.warn("请求Header: "+JSON.stringify(d?d(t):b())),console.warn("请求body: "+JSON.stringify(a&&a(t))),console.warn("请求response: ",e),console.warn("返回: ",n))}catch(e){console.error("请求日志打印时报错"+e)}return 0===n.err?Promise.resolve(n.data):r.ACCESS_TOKEN_EXPIRED_CODE.indexOf(n.err)>-1&&++_<r.MAX_LOGIN_RETRY_TIMES?R({forceRefresh:!0}).then(function(){return h(t)}):Promise.reject(n)})}}function b(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noAccessToken,t={miniprogram:r.SDK_CONFIG.APPID,version:r.SDK_CONFIG.SDKVERSION,device:i.default.get("xhstat_os")};return e||(t.accesstoken=i.default.get("xhstat_access_token")),t}return new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(){for(var e in M){var t=M[e];t.apiName=e,this[e]=D(t),this.REQUEST_LOG=!0}}.call(this)}}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SDK_CONFIG={ENV:"prod",APPKEY:"52beba30-bd98-11e8-aab0-294230b0d9e6",APPID:"wx5401ab8855d01c48",PROGRAM_ID:"52beba31bd9811e8aab0294230b0d9e6",PROGRAM_SECRET:"52beba32bd9811e8aab0294230b0d9e6",SDKVERSION:"1.4.2",JUMP_MINI_PROGRAM_ENV:"release"};t.MAX_LOGIN_RETRY_TIMES=3,t.ACCESS_TOKEN_EXPIRED_CODE=[1304,1021,1022,1020],t.SDK_ERROR_CODES={NO_MERGE_ERROR:{err:50001,message:"没有发起合并账户操作"}},t.SPARE_HOSTS_LIST="test"===r.ENV?["https://test.kuaiyugo.com"]:['https://api.kuaiyugo.com','https://api.51yxstar.com','https://api.51staryule.com','https://api.51sfske.com'],t.RESPONSE={NO_AVAILABLE_HOST:{message:"NO_AVAILABLE_HOST"},USER_PAY_DISABLED:{message:"USER_PAY_DISABLED"},CHECK_ORDER_TIME_OUT:{message:"CHECK_ORDER_TIME_OUT"},PAY_FAIL:{message:"PAY_FAIL"},PAY_SUCCESS:{message:"PAY_SUCCESS"},NO_AD_CONFIG:{message:"NO_AD_CONFIG"}},t.STORAGE_KEYS={USER_TID_STORAGE_KEY:"XH_USER_TID",CHANNEL_CODE_STORAGE_KEY:"XH_CHANNEL_CODE",AUTH_CODE_INFO_STORAGE_KEY:"XH_AUTH_CODE_INFO",ACCESS_TOKEN_INFO_STORAGE_KEY:"ACCESS_TOKEN_INFO",ACCOUNT_MERGE_RECORDS_STORAGE_KEY:"ACCOUNT_MERGE_RECORDS",GET_NEW_DATE_ASTRICT_KEY:"GET_NEW_DATE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"addPreHook",value:function(e,t){var n=["onShareAppMessage"],r=null;"App"===e&&(r=App),"Page"===e&&(r=Page);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=function(r){var o=t[r]||function(){};if(e[r]){var i=e[r];e[r]=function(){for(var e=this,t=arguments.length,a=Array(t),u=0;u<t;u++)a[u]=arguments[u];if(n.indexOf(r)>-1){var c=i.apply(this,a);return o.call.apply(o,[this,c].concat(a))}var s=o.apply(this,a);s&&s.then?s.then(function(){return i.apply(e,a)}):i.apply(this,a)}}else e[r]=o};for(var i in t)o(i);r(e)};"App"===e&&(App=o),"Page"===e&&(Page=o)}},{key:"normalizeRes",value:function(e){return e.errMsg||e.statusCode?e.data?{err:e.data.err||0,code:e.statusCode,message:e.data.msg,data:e.data.data}:{err:1,code:e.statusCode||e.errCode||999,message:e.errMsg}:{err:e.err,code:e.statusCode,message:"string"==typeof e?e:e.msg,data:e.data}}},{key:"promiseFy",value:function(e,t){var n={};if(t)for(var r in t)n[r]=t[r];return new Promise(function(t,r){n.success=function(e){(200===e.statusCode||e.errMsg.indexOf(":ok")>-1)&&t(e)},n.fail=function(e){r(o.normalizeRes(e))},e?e.call(wx,n):r({message:"miniProgramFn is not defined"})})}},{key:"addQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.stringifyQuery(t);return n?e.indexOf("?")>-1?e+"&"+n:e+"?"+n:e}},{key:"parseQuery",value:function(e){if("string"==typeof e&&e.indexOf("=")>-1){var t={};try{(e.indexOf("?")>-1?e.split("?")[1].split("&"):e.split("&")).forEach(function(e){var n=e.split("=");n&&n.length>1&&(t[n[0]]=n[1])})}catch(e){}return t}return{}}},{key:"stringifyQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e){var r=e[n];r="string"==typeof r?r:"number"==typeof r&&isNaN(r)?"NaN":void 0===r?"undefined":JSON.stringify(r),t.push([n+"="+r])}return t.join("&")}},{key:"getCurrentRoute",value:function(){var e=getCurrentPages();return"/"+e[e.length-1].route}},{key:"getCurrentOptions",value:function(){var e=getCurrentPages();return e[e.length-1].options}},{key:"getCurrentFullUrl",value:function(){var e=o.getCurrentRoute(),t=o.getCurrentOptions();return o.addQuery(e,t)}},{key:"getNetWorkStatus",value:function(){var e=this;return this.getNetWorkStatusPromise||(this.getNetWorkStatusPromise=this.promiseFy(wx.getNetworkType),wx.onNetworkStatusChange(function(t){e.currNetWorkType=t.networkType})),Promise.resolve().then(function(){return e.getNetWorkStatusPromise}).then(function(t){return e.currNetWorkType?e.currNetWorkType:t.networkType}).catch(function(e){return{}})}},{key:"getSystemInfo",value:function(){return o.promiseFy(wx.getSystemInfo).catch(function(e){return{}})}},{key:"setStorage",value:function(e,t){return o.promiseFy(wx.setStorage,{key:e,data:t}).then(function(){return t}).catch(function(){})}},{key:"getStorage",value:function(e){return o.promiseFy(wx.getStorage,{key:e}).then(function(e){return e.data}).catch(function(){return""})}},{key:"checkSessionValidation",value:function(){return o.promiseFy(wx.checkSession).then(function(){return!0}).catch(function(){return!1})}},{key:"isRuningMiniPro",value:function(){return"function"==typeof getApp&&"undefined"==typeof GameGlobal&&"undefined"!=typeof wx}},{key:"isRuningMiniGame",value:function(){return"function"!=typeof getApp&&"undefined"!=typeof GameGlobal&&"undefined"!=typeof wx}},{key:"isEmptyObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"{}"===JSON.stringify(e)}},{key:"makeResponse",value:function(e){var t=e.code,n=void 0===t?200:t,r=e.message,o=e.err;return{err:void 0===o?0:o,code:n,message:r}}},{key:"getVariableType",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}},{key:"deepClone",value:function(e){var t=o.getVariableType(e),n=void 0;if("Object"===t&&(n={}),"Array"===t&&(n=[]),!n)return e;for(var r in e){var i=e[r],a=o.getVariableType(i),u="Object"===a||"Array"===a;n[r]=u?o.deepClone(i):i}return n}},{key:"getOSbySystemInfo",value:function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).system||"").toLowerCase(),t="other";return e.indexOf("ios")>-1&&(t="ios"),e.indexOf("android")>-1&&(t="android"),t}},{key:"checkExpireByServerTimeFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!0;try{n=new Date(e).getTime()<=Date.now()+t}catch(e){}return n}},{key:"normalErrorHandler",value:function(e){var t=e.message,n=void 0===t?"程序错误":t;return Promise.resolve().then(function(){return o.promiseFy(wx.showModal,{content:n,showCancel:!1})})}},{key:"sleep",value:function(e){return new Promise(function(t){return setTimeout(t,e)})}}]),e}());t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=(r=i)&&r.__esModule?r:{default:r};var u=function(){var e={xhstat_nwt:"",xhstat_sysInfo:{},xhstat_channelCode:"",xhstat_tid:"",xhstat_uuid:"",xhstat_sessionId:""};function t(n,r){if("String"===a.default.getVariableType(n))return t(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r));e=Object.assign({},e,n)}return new(function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return o(n,[{key:"set",value:function(){return t.apply(void 0,arguments)}},{key:"get",value:function(){return function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(n){var o=n.split(".");if(o.length>1){var i=r[o[0]];return void 0!==i?t(o.slice(1).join("."),i):void 0}return a.default.deepClone(r[n])}return a.default.deepClone(r)}.apply(void 0,arguments)}}]),n}())}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),i=c(n(1)),a=c(n(4)),u=c(n(6));c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var s=0,f=null,d=!1;t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"fetchUserInfo",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).openIdOnly;return f&&(void 0!==t&&t)||(f=Promise.resolve().then(function(){return o.default.promiseFy(wx.login)}).then(function(e){return i.default.postUserInfo({auth_mode:"default",wx_code:e.code})}).then(function(e){return a.default.set({xhstat_uuid:e.open_id}),u.default.setUserInfoAndSendToStatistic({userInfo:e}),s=0,d||(d=i.default.putUpdateMidasBalance().catch(function(){return d=!1})),e}).catch(function(t){return 1026===t.err&&s<5?(s+=1,e.fetchUserInfo({openIdOnly:!1})):(s=0,Promise.reject(t))})),f.then(function(){return a.default.get("userInfo")})}},{key:"updateUserInfo",value:function(e){var t=this;return Promise.resolve().then(function(){return o.default.promiseFy(wx.login)}).then(function(t){return i.default.postUserInfo({auth_mode:"full",wx_code:t.code,wx_encrypted_data:e.encryptedData,wx_iv:e.iv,wx_signature:e.signature})}).then(function(e){u.default.setUserInfoAndSendToStatistic({userInfo:e}),s=0;var t=o.default.deepClone(e);return delete t.is_new,t}).catch(function(n){return 1026===n.err&&s<5?(s+=1,t.updateUserInfo(e)):(s=0,Promise.reject(n))})}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),i=c(n(5)),a=c(n(4)),u=c(n(7));c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var s=!1;t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"switchRequestLog",value:function(e){var t=e.open,n=this.getStatisticSDK();n.switchRequestLog&&n.switchRequestLog({open:t})}},{key:"sendLog",value:function(e,t){var n=this;return i.default.fetchUserInfo({openIdOnly:!0}).then(function(){var r=n.getStatisticSDK();return r.sendLog&&r.sendLog(e,t)})}},{key:"sendTigerBehaviourSync",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};("render"!=e||u.default.APP_IS_SHOW)&&i.default.fetchUserInfo({openIdOnly:!0}).then(function(){var r=t.getStatisticSDK();r.sendTigerBehaviourSync&&r.sendTigerBehaviourSync(e,n)})}},{key:"getStatisticSDK",value:function(){if(o.default.isRuningMiniGame())return GameGlobal.XH_STATISTIC?GameGlobal.XH_STATISTIC:(console.warn("未接入数据采集SDK"),{});if(o.default.isRuningMiniPro()){if("function"==typeof getApp&&getApp()){var e=getApp().XH_STATISTIC;return e||(console.warn("未接入数据采集SDK"),{})}return console.warn("没有全局getApp方法"),{}}}},{key:"setUserInfoAndSendToStatistic",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userInfo;if(e){a.default.set({userInfo:e});var t=this.getStatisticSDK();t.sendUserInfo&&t.sendUserInfo(e)}}},{key:"sendLoadingLog",value:function(e){if(["progressStart","progressEnd"].indexOf(e)>-1){var t=this.getStatisticSDK();t&&i.default.fetchUserInfo({openIdOnly:!0}).then(function(){t.sendLoadingLog&&t.sendLoadingLog(e)})}else console.error("只支持传入两种类型：1、progressStart(进度条开始加载), 2、progressEnd(进度条加载完成)")}},{key:"sendStatsticLogAndInfo",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];s||i.default.fetchUserInfo({openIdOnly:!0}).then(function(){var t=e.getStatisticSDK();t.sendHeartBeatRecord&&t.sendHeartBeatRecord(),t.sendLog&&t.sendLog("login_in"),s=!0})}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(1)),a=f(n(4)),u=f(n(3)),c=n(2),s=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}var d=null;t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.APP_IS_SHOW=!0,this.APP_STATUS_SHOW_STAMPS=[],this.APP_STATUS_HIDE_STAMPS=[],this.API_RETRY_NETWORK_STATUS="none"}return o(e,[{key:"switchRequestLog",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).open;void 0!==e&&(s.default.switchRequestLog({open:e}),i.default.REQUEST_LOG=e,e||console.error("您已关闭SDK控制台打印日志，请在上线之前重新打开"))}},{key:"navigateToMiniProgram",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.path,r=void 0===n?"pages/index/index":n,o=e.extraData,i=e.envVersion,u=void 0===i?"release":i;return new Promise(function(e,n){if(console.log("appId: ",t),t){var i={appId:c.SDK_CONFIG.APPID,openId:a.default.get("xhstat_uuid")};wx.navigateToMiniProgram({appId:t,path:r,extraData:Object.assign({mergeAccount:i},o),envVersion:u,success:e,fail:n})}else n("请传入正确的appId")})}},{key:"fetchInitData",value:function(e){Promise.all([u.default.getNetWorkStatus(),u.default.getSystemInfo(),function(){var e=c.STORAGE_KEYS.USER_TID_STORAGE_KEY;return Promise.resolve().then(function(){return u.default.getStorage(e)}).then(function(t){return t||(t=""+Date.now()+Math.floor(1e7*Math.random()),u.default.setStorage(e,t))})}(),u.default.getStorage(c.STORAGE_KEYS.ACCESS_TOKEN_INFO_STORAGE_KEY)]).then(function(t){var n=r(t,4),o=n[0],i=n[1],c=n[2],s=n[3];e.query;a.default.set({xhstat_nwt:o,xhstat_sysInfo:i,xhstat_tid:c,xhstat_access_token:s?s.access_token:"",xhstat_os:u.default.getOSbySystemInfo(i)})})}},{key:"checkDoubleJump",value:function(e){if(1037==e.scene){var t="";try{t=JSON.parse(e.query.nextGameJumpConfig)}catch(e){t=""}if(t){var n={channelCode:t.channelCode};t.nextGameJumpConfig&&(n.nextGameJumpConfig=t.nextGameJumpConfig),wx.navigateToMiniProgram({appId:t.app_id,path:u.default.addQuery(t.path||"pages/index/index",n),extraData:n,envVersion:c.SDK_CONFIG.JUMP_MINI_PROGRAM_ENV,success:resolve,fail:reject})}}}},{key:"networkRelink",value:function(){var e=this;return d||(d=new Promise(function(t,n){u.default.getNetWorkStatus().then(function(n){"none"!=n?t():wx.onNetworkStatusChange(function(n){n.isConnected&&"none"==e.API_RETRY_NETWORK_STATUS&&t(),e.API_RETRY_NETWORK_STATUS=n.networkType})}).catch(function(){})})),d}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(a(n(3)),a(n(1)),a(n(4)),a(n(6))),i=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var u={},c="";t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.adUnitId;if(!n)return console.error("[createRewardedVideoAd] 缺少必要参数: adUnitId"),{};if(!u[n]){var r=function(t){if(c===n){var r=u[n].startShowTimeStamp;if(console.log("[rewardedVideoAd close]: ",t),r>0){i.default.APP_STATUS_HIDE_STAMPS.forEach(function(e,t){var n=i.default.APP_STATUS_SHOW_STAMPS[t+1];r<e&&n&&(r+=n-e)});var a=(Date.now()-r)/1e3;a=a<0?0:a>60?60:a,u[n].showVideoPromise="",o.default.sendLog("videoClose",{adUnitId:n,isEnded:t&&t.isEnded||void 0===t,timeLastShow:a})}e.showRewardedVideoAd=!1}},a=function(e){console.log("[rewardedVideoAd error]: ",e),c===n&&(u[n].showVideoPromise="",o.default.sendLog("videoError",{adUnitId:n,errMsg:JSON.stringify(e)}))};u[n]={},u[n].video=wx.createRewardedVideoAd(t),u[n].startShowTimeStamp=0,u[n].showVideoPromise="",u[n].video.onClose(r),u[n].video.onError(a);var s=u[n].video.offClose.bind(u[n].video),f=u[n].video.offError.bind(u[n].video);u[n].video.offClose=function(e){s(e),e||u[n].video.onClose(r)},u[n].video.offError=function(e){f(e),e||u[n].video.onError(a)}}var d=u[n].video;return{show:function(){return n?(c=n,u[n].showVideoPromise||(u[n].showVideoPromise=d.show().then(function(){o.default.sendLog("videoShow",{adUnitId:n})})),u[n].showVideoPromise.then(function(){e.showRewardedVideoAd=!0,u[n].startShowTimeStamp=Date.now()}).catch(function(e){return console.log("[rewardedVideoAd show error]: ",e),o.default.sendLog("videoError",{adUnitId:n,errMsg:JSON.stringify(e)}),u[n].showVideoPromise="",Promise.reject(e)})):Promise.reject("[createRewardedVideoAd] 缺少必要参数: adUnitId")},hide:function(){return d.hide()},load:function(){return d.load()},onLoad:function(){return d.onLoad()},offLoad:function(){return d.offLoad()},onError:function(e){return d.onError(e)},offError:function(e){return d.offError(e)},onClose:function(e){return d.onClose(e)},offClose:function(e){return d.offClose(e)}}}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(5)),i=f(n(6)),a=f(n(1)),u=f(n(4)),c=f(n(3)),s=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var d="",l=/www\.starsriver\.cn\?([a-zA-Z0-9\-\_]+)\?([a-zA-Z0-9\-\_]+)/,g={events:[],on:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail;g.events.push({success:t,fail:n})},emitSuccess:function(e){var t=g.events;t.length&&(t.forEach(function(t){return"function"==typeof t.success&&t.success(e)}),t=[])},emitFail:function(e){var t=g.events;t.length&&(t.forEach(function(t){return"function"==typeof t.fail&&t.fail(e)}),t=[])}};function v(){var e=s.STORAGE_KEYS.GET_NEW_DATE_ASTRICT_KEY;return Promise.resolve().then(function(){return c.default.getStorage(e)}).then(function(n){if(n!==t())return c.default.promiseFy(wx.getClipboardData).then(function(n){var r=n.data,o=void 0===r?"":r;if(console.log(o,"原粘贴板的数据源"),o.match(l))return!1;var i=p(s.SDK_CONFIG.APPID,u.default.get("xhstat_uuid"));return i?c.default.promiseFy(wx.setClipboardData,{data:o+"\n"+i}).then(function(){return c.default.setStorage(e,t())}).then(function(){console.log(o,"粘贴成功"),wx.showLoading(),wx.hideLoading()}):void 0})});function t(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}function p(e,t){return e&&t?"www.starsriver.cn?"+e+"?"+t:""}t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.default.isRuningMiniPro()&&c.default.addPreHook("App",{onHide:v})}return r(e,[{key:"checkAndMergeAccount",value:function(e){var t=void 0;return Promise.resolve().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.resolve().then(function(){e.query=e.query||{};var t=e.query.mergeAccount;try{t=JSON.parse(t)}catch(e){t=""}return t||(t=((e.referrerInfo||{}).extraData||{}).mergeAccount||{}),t&&t.openId&&t.appId?{data:p(t.appId,t.openId)}:c.default.promiseFy(wx.getClipboardData)}).then(function(e){var t=e.data;return{match:(void 0===t?"":t).match(l)}})}(e)}).then(function(e){var n=e.match;if(n){var r=n[1],o=n[2];return console.log(n[0],"合并账户"),t=s.STORAGE_KEYS.ACCOUNT_MERGE_RECORDS_STORAGE_KEY+"_"+r+"_"+o,c.default.getStorage(t).then(function(e){if(e)return s.SDK_ERROR_CODES.NO_MERGE_ERROR;var t=n[1],r=n[2];return t!==s.SDK_CONFIG.APPID&&r!==u.default.get("xhstat_uuid")?a.default.postMergeAccounts({clipboard:"www.starsriver.cn?"+t+"?"+r}).then(function(e){return Object.assign({err:0},e)}):s.SDK_ERROR_CODES.NO_MERGE_ERROR})}return s.SDK_ERROR_CODES.NO_MERGE_ERROR}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e.err)return g.emitFail(e),e;if(e&&e.pid){var t=u.default.get("userInfo");t=Object.assign(t,e),i.default.setUserInfoAndSendToStatistic({userInfo:t})}var n={err:e.err,message:"合并成功",data:u.default.get("userInfo")};return g.emitSuccess(n),n}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&1031===e.err&&c.default.setStorage(t,!0);var n={err:e.err,message:e.message||e};return g.emitFail(n),n})}},{key:"mergeAndSetClipBorad",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.default.fetchUserInfo({openIdOnly:!0}).then(function(){d=e.checkAndMergeAccount(t),c.default.isRuningMiniGame()&&d.then(function(){return v()})})}},{key:"onMergeAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail;d?d.then(function(e){0===e.err?"function"==typeof t&&t(e):"function"==typeof n&&n(e)}):g.on({success:t,fail:n})}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(3)),i=f(n(1)),a=f(n(4)),u=n(2),c=f(n(5)),s=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}var d={},l="",g=function(e){return(e=o.default.deepClone(e)).is_open=!!e.show_config,e.show_config&&e.show_config.hasOwnProperty("is_click_change")&&delete e.show_config.is_click_change,delete e.tiger_master_id,delete e.tiger_plan_id,delete e.tiger_group_id,delete e.flow_owner_id,delete e.is_default,delete e.redirect_app_id,delete e.redirect_path,delete e.redirect_version,delete e.redirect_extra_data,delete e.channel_code,delete e.production_app_id,delete e.render_max,e},v=function(e,t,n,r){a.default.get("tigerListCache")||a.default.set("tigerListCache",{}),a.default.get("tigerIndexCache")||a.default.set("tigerIndexCache",{});var o=n.gender||1,u=a.default.get("tigerListCache"),c=a.default.get("tigerIndexCache"),s=Date.now(),f=e.map(function(e){return d[e]=d[e]||Date.now(),u[e]&&s-d[e]<6e5?(9==u[e][0].type||r||(u[e].length>1?(c[e]+=1,c[e]>u[e].length-1&&(c[e]=0)):c[e]=0,a.default.set("tigerIndexCache",c)),Promise.resolve({list:u[e],index:c[e]})):function(e,t,n){return i.default.getTigerList({tiger_position_id:e,version:t,openid:a.default.get("xhstat_uuid"),gender:n}).then(function(t){var n=a.default.get("tigerListCache"),r=a.default.get("tigerIndexCache");return n[e]=t,t&&t[0]&&t[0].type&&9!=t[0].type&&(r[e]=0,a.default.set("tigerIndexCache",r)),a.default.set("tigerListCache",n),d[e]=Date.now(),{list:t,index:r[e]}}).catch(function(t){console.error("请求错误: "+e+" "+(t?JSON.stringify(t):""));var n=a.default.get("tigerIndexCache");return n[e]=0,a.default.set("tigerIndexCache",n),{list:[{tiger_position_id:e}],index:n[e]}})}(e,t,o)});return Promise.all(f)};t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getTigerQrcode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.creative_id,n=e.tiger_position_id;return this.getTigerGlobalConfig().then(function(e){if(1===e.qrcodeSwitch){if(t&&n){var r=a.default.get("tigerQrcodePromise")||{},o=n+"_"+t;return r[o]||(r[o]=i.default.getTigerQrcode({creative_id:t,tiger_position_id:n}).catch(function(){return{url:null}})),a.default.set("tigerQrcodePromise",r),r[o]}return Promise.reject("[getTigerQrcode: 缺少必要参数]")}return console.error("二维码配置已关闭"),Promise.reject("二维码配置已关闭")})}},{key:"previewQrCode",value:function(e,t){e&&e.then(function(e){if(e&&e.url){var n=s.default.getStatisticSDK();wx.previewImage({urls:[e.url],success:function(){n.sendTigerBehaviourSync("qrcodeRender",{list:[t]})},fail:function(e){console.error("[navigateToTiger]: 二维码图片预览失败",e)}})}else console.warn("[navigateToTiger]: 缺少二维码图片")}).catch(function(e){console.warn("[navigateToTiger]:",e)})}},{key:"getTigerGlobalConfig",value:function(){return l||(l=i.default.getTigerGlobalConfig()),l}},{key:"navigate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tiger_position_id,r=t.creative_id;return new Promise(function(t,i){var c=s.default.getStatisticSDK(),f=a.default.get("tigerListCache"),d=e;if(!f)return i("[navigateToTiger]: 请先获取列表");if("undefined"==n)return i("[navigateToTiger]: 请传入正确的tiger_position_id");if("undefined"==r)return i("[navigateToTiger]: 请传入正确的creative_id");var l="",v=f[n]||[],p=!0,h=!1,_=void 0;try{for(var y,m=v[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var S=y.value;if(S.creative_id==r){l=S;break}}}catch(e){h=!0,_=e}finally{try{!p&&m.return&&m.return()}finally{if(h)throw _}}if(!l||!l.show_config)return i("[navigateToTiger]: 该参数: "+n+":"+r+", 在列表中不存在或已关闭");var O=c.packLogData().userLog.ext;O.v=u.SDK_CONFIG.SDKVERSION;var T=Object.assign({channelCode:l.channel_code},o.default.parseQuery(l.redirect_extra_data));c.sendTigerBehaviourSync("click",{list:[l]});var I=e.getTigerQrcode({creative_id:l.creative_id,tiger_position_id:l.tiger_position_id});function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];t.show_config&&t.show_config.is_click_change||9==t.type?d.getList({tiger_position_id_list:[e],creative_id:t.creative_id}).then(function(e){n(e)}).catch(function(e){r(e)}):n([g(t)])}wx.navigateToMiniProgram({appId:l.redirect_app_id,path:o.default.addQuery(l.redirect_path||"pages/index/index",T),extraData:Object.assign({tiger_info:O,tiger_list:[l],mergeAccount:{appId:u.SDK_CONFIG.APPID,openId:a.default.get("xhstat_uuid")}},T),envVersion:l&&l.redirect_version||"release",success:function(){c.sendTigerBehaviourSync("confirm",{list:[l]}),w(n,l,t,i)},fail:function(r){var o=r&&r.errMsg&&r.errMsg.indexOf("cancel")>-1;e.previewQrCode(I,l),o?c.sendTigerBehaviourSync("cancel",{list:[l]}):(c.sendTigerBehaviourSync("404",{list:[l],errMsg:JSON.stringify(r)}),console.error("跳转失败，请检查game.json(小游戏)/app.json(小程序)跳转列表是否配置正确")),w(n,l,t,i)}})})}},{key:"getList",value:function(e){var t=this,n=e.tiger_position_id_list,r=void 0===n?[]:n,i=e.appVersion,u=void 0===i?"1.0.0":i,f=e.creative_id,d=void 0===f?"":f;return r.length<=0?Promise.reject("缺少正确的tiger_position_id_list"):Promise.resolve().then(function(){return t.getTigerGlobalConfig()}).then(function(){return c.default.fetchUserInfo({openIdOnly:!0})}).then(function(e){return v(r,u,e,!1)}).then(function(e){return function(e,t){var n=a.default.get("tigerListCache"),r=[],i=[],u=[],c=[],f="",d={};return e.forEach(function(e){var o=e.list,s=e.index;if(o[0].type&&9==o[0].type){if(f=o[0].tiger_position_id,t){var l=0;o.forEach(function(e,n){e.creative_id===t&&(l=n)});var v=o.splice(l,1);o.push(v[0])}n[f]=o,a.default.set("tigerListCache",n),o.forEach(function(e,t){var n=g(e);e.render_max&&t<e.render_max&&u.push(n),n.is_open&&c.push(e)}),d={type:9,tiger_position_id:f,list:u},r.push(d),i=c}else{var p=0,h=!0,_=!1,y=void 0;try{for(var m,S=o[Symbol.iterator]();!(h=(m=S.next()).done);h=!0){if(m.value,s==p){var O=g(o[p]);r.push(O),O.is_open&&i.push(o[p]);break}p++}}catch(e){_=!0,y=e}finally{try{!h&&S.return&&S.return()}finally{if(_)throw y}}}}),i.length&&s.default.sendTigerBehaviourSync("render",{list:i}),o.default.deepClone(r)}(e,d)})}},{key:"sendTigerLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.default.fetchUserInfo({openIdOnly:!0}).then(function(){if(e.scene=e.scene&&Number(e.scene),e.scene&&[1037,1048,1012].indexOf(e.scene)>-1){var t=e.query||{},n=o.default.parseQuery(decodeURIComponent(t.scene));if(n.qcid&&n.qpid&&[1048,1012].indexOf(e.scene)>-1){var r=[{tiger_position_id:n.qpid,creative_id:n.qcid}];s.default.sendTigerBehaviourSync("qrcodeLogin",{list:r,uid2:a.default.get("xhstat_uuid")})}else if(1037===e.scene){var i=(e.referrerInfo||{}).extraData||{},u=i.tiger_info||{},c=i.tiger_list||[];c.length&&s.default.sendTigerBehaviourSync("login",{list:c,ak:u.ak,aid:u.aid,tid:u.tid,uid:u.uid,pid:u.pid,uidfp:u.uidfp,uid2:a.default.get("xhstat_uuid")})}}})}},{key:"getTigerConfig",value:function(e){var t=e.tiger_position_id,n=void 0===t?"":t,r=e.appVersion,o=void 0===r?"1.0.0":r;return n?Promise.resolve().then(function(){return c.default.fetchUserInfo({openIdOnly:!0})}).then(function(e){return v([n],o,e,!0)}).then(function(e){return function(e){if(e&&e[0]&&e[0].list&&e[0].list[0]){var t=e[0].list[0];return{tiger_position_id:t.tiger_position_id,type:t.type,is_open:!!t.show_config}}}(e)}).catch(function(e){return console.error("请求错误: "+n+" "+(e?JSON.stringify(e):"")),{is_open:!1,tiger_position_id:n}}):Promise.reject("缺少正确的tiger_position_id")}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(5)),i=n(2),a=c(n(1)),u=(c(n(4)),c(n(3)));function c(e){return e&&e.__esModule?e:{default:e}}t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"clearPayLock",value:function(e){var t=e.orderId;return t?a.default.putCancelPay(t):Promise.reject("请输入正确的订单号id")}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.coin,r=t.program_param;return Promise.resolve().then(function(){return o.default.fetchUserInfo({openIdOnly:!0})}).then(function(){return a.default.getCheckPayType()}).then(function(t){var o=t.pay_type;return 0===o?Promise.reject(u.default.makeResponse(i.RESPONSE.USER_PAY_DISABLED)):1===o?e.createOrderAndPayByWx({coin:n,program_param:r}):2===o?e.createOrderAndPayByMidas({coin:n,program_param:r}):void 0}).then(function(t){return e.loopCheckOrder(t)})}},{key:"loopCheckOrder",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return Promise.resolve().then(function(){return a.default.getCheckOrderStatus(e)}).then(function(n){var r=n.pay_status;if(0===r)return 0===t?Promise.reject(u.default.makeResponse(i.RESPONSE.CHECK_ORDER_TIME_OUT)):u.default.sleep(1e3).then(function(){return loopCheckOrder(e,t-1)});if(1===r||3===r){var o=u.default.makeResponse(i.RESPONSE.PAY_SUCCESS);return o.data=o.data||{orderId:e},Promise.resolve(o)}return 2===r?Promise.reject(u.default.makeResponse(i.RESPONSE.PAY_FAIL)):void 0}).catch(function(n){return n.message===i.RESPONSE.CHECK_ORDER_TIME_OUT.message||n.message===i.RESPONSE.PAY_FAIL.message||t<=0?Promise.reject(n):u.default.sleep(1e3).then(function(){return loopCheckOrder(e,t-1)})})})},{key:"createOrderAndPayByMidas",value:function(e){var t=e.coin,n=e.program_param,r="";return Promise.resolve().then(function(){return u.default.promiseFy(wx.login)}).then(function(e){return a.default.platuserRefreshSession({wx_code:e.code})}).then(function(){return a.default.postCreateMidasPayOrder({coin:t,program_param:n})}).then(function(e){var t=e.item,n=t.buy_quantity;return r=t.order_code,n>0?u.default.promiseFy(wx.requestMidasPayment,{mode:t.mode,env:t.env,offerId:t.offer_id,currencyType:t.currency_type,platform:t.platform,buyQuantity:t.buy_quantity,zoneId:t.zone_id}).catch(function(e){return a.default.putCancelPay(r).then(function(){return Promise.reject(e)}).catch(function(){return Promise.reject(e)})}).then(function(){return a.default.putConfirmPay(r)}):Promise.resolve()}).then(function(){return r})}},{key:"createOrderAndPayByWx",value:function(e){var t=e.coin,n=e.program_param,r="";return a.default.postCreateWxPayOrder({coin:t,program_param:n}).then(function(e){var t=e.item;return r=t.order_code,u.default.promiseFy(wx.requestPayment,{timeStamp:t.timestamp+"",nonceStr:t.noncestr,package:t.package,signType:t.sign_type,paySign:t.pay_sign})}).then(function(){return a.default.putConfirmPay(r)}).then(function(){return r})}},{key:"updateGold",value:function(e){var t=e.gold,n=e.gold_desc,r=void 0===n?"":n,i=t>0?0:1;return t=Math.abs(t),Promise.resolve().then(function(){return o.default.fetchUserInfo({openIdOnly:!0})}).then(function(){return a.default.putUpdateGoldBalance({gold:t,transaction_type:i,gold_desc:r})})}},{key:"cancelLockPay",value:function(e){var t=e.order_code;return t?a.default.putCancelPay(t):Promise.reject("请使用正确的订单号")}},{key:"getGoldBalance",value:function(){return Promise.resolve().then(function(){return o.default.fetchUserInfo({openIdOnly:!0})}).then(a.default.getGoldBalance)}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(1));i(n(4)),i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getShareTemplates",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Promise.resolve().then(function(){return o.default.getShareTemplate({version:e})}).catch(function(){return[]})}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(a(n(3)),a(n(1)),a(n(4)),a(n(6))),i=a(n(8));a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var u="";t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"createBannerAd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnitId,n=wx.createBannerAd(e);return{style:n&&n.style,show:function(){return o.default.sendLog("bannerShow",{adUnitId:t}),u=t,n.show()},destroy:function(){return u="",n.destroy()},hide:function(){return u="",n.hide()},onResize:function(e){return n.onResize(e)},offResize:function(e){return n.offResize(e)},onLoad:function(e){return n.onLoad(e)},offLoad:function(e){return n.offLoad(e)},onError:function(e){return n.onError(e)},offError:function(e){return n.offError(e)}}}},{key:"sendBannerBack",value:function(e){u&&e.referpagepath&&(e.referpagepath.indexOf("WCCanvasPage")>-1||e.referpagepath.indexOf("http")>-1)&&!i.default.showRewardedVideoAd&&o.default.sendLog("bannerBack")}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(10)),a=c(n(15)),u=(c(n(3)),c(n(7)));function c(e){return e&&e.__esModule?e:{default:e}}var s=Symbol("isNowScene"),f=Symbol("startAutoSwitch"),d=Symbol("initTigerNode"),l=Symbol("renderTiger"),g=Symbol("tigerTapEvent"),v=Symbol("tigerCocosUIConfig"),p=Symbol("fpsIconLooper"),h={staticIcon:1,dynamicIcon:2},_={landscape:{width:1920,height:1080},portrait:{width:1080,height:1920}},y=function(){return{1:{w:190,h:270},2:{w:190,h:270}}},m=function(e,t){return new Promise(function(n,r){e&&e instanceof cc.Node||r("请传入正确的节点"),t||r("请传入正确的资源路径");var o=e.getComponent(cc.Sprite),i=wx.createImage();i.onload=function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture(),o.spriteFrame=new cc.SpriteFrame(e),n()},i.onerror=function(e){r(e.message||e)},i.src=t})},S=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:999999999;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"==typeof cc.director.getScene().getChildByName&&cc.director.getScene().getChildByName("tiger_"+t)?console.warn("tigerUI创建错误: 该"+t+"节点已存在"):(this[v]={},i.default.getTigerConfig({tiger_position_id:t,appVersion:n}).then(function(e){if(e.is_open){var f=y()[e.type];f?i.default.getList({tiger_position_id_list:[t],appVersion:n}).then(function(e){var i=r(e,1)[0];i.is_open&&f&&(u[v]={customZIndex:s,customWidth:o?o<100?100:o>f.w?f.w:o:0,tigerConfig:i,appVersion:n,tiger_position_id:t},u[d](i,a,c),u[l](),u[g]())}):console.error("暂不支持该tiger类型渲染")}}))}return o(e,[{key:d,value:function(e,t,n){var r=new cc.Node("tiger_"+e.tiger_position_id),o=cc.winSize,i=cc.v2();r.addComponent(cc.Sprite),cc.director.getScene().addChild(r),this[v].sceneId=cc.director.getScene()._id;var a=o.width>o.height,u=o.width/_[a?"landscape":"portrait"].width,c=y()[e.type];if(this[v].customWidth){var s=c.w/c.h;c.w=this[v].customWidth,c.h=this[v].customWidth/s}c.w*=u,c.h*=u,i.x=c.w/2+t,i.y=o.height-(c.h/2+n),r.position=i,r.zIndex=this[v].customZIndex,this[v].w=c.w,this[v].h=c.h,this[v].displayBtn=r.addComponent(cc.Button)}},{key:l,value:function(){var e=this,t=this[v],n=t.displayBtn,r=t.tigerConfig,o=(t.scaleNum,t.w),i=t.h;if(cc.isValid(n.node)){var u=r.show_config.image?[r.show_config.image]:r.show_config.images?r.show_config.images:[];this[v].imageIsLoading=!0,m(n.node,u[0]).then(function(){e[v].imageIsLoading=!1,[h.dynamicIcon,h.staticIcon].indexOf(r.type)>-1&&(a.default.show(n,r.show_config),e[f]()),n.node.setContentSize(o,i),r.type===h.dynamicIcon&&e[p](u)})}}},{key:p,value:function(e){var t=this,n=1;!function e(r){var o=t[v],i=o.displayBtn,a=o.tigerConfig,u=o.w,c=o.h;clearTimeout(t[v].scheduleFpsTimer),t[v].scheduleFpsTimer=setTimeout(function(){t[s]()&&cc.isValid(i.node)&&a.show_config.fps&&(n>=r.length&&(n=0),m(i.node,r[n]).then(function(){n+=1,i.node.setContentSize(u,c),e(r)}))},1/a.show_config.fps*1e3)}(e)}},{key:g,value:function(){var e=this;this[v].displayBtn.node.on("click",function(){var t=e[v].tigerConfig;e[v].imageIsLoading||i.default.navigate({tiger_position_id:t.tiger_position_id,creative_id:t.creative_id}).then(function(t){e[v].tigerConfig=t[0],e[l]()})})}},{key:f,value:function(){var e=this,t=this[v],n=t.tiger_position_id,r=t.appVersion,o=t.displayBtn,a=t.tigerConfig,c=Date.now();clearTimeout(this[v].autoSwitchTimer),this[v].autoSwitchTimer=setTimeout(function(){var t=u.default.APP_STATUS_SHOW_STAMPS[u.default.APP_STATUS_SHOW_STAMPS.length-1];c<t?e[f]():cc.isValid(o.node)&&e[s]()&&o.node.active&&a.show_config&&a.show_config.auto_change>0&&i.default.getList({tiger_position_id_list:[n],appVersion:r}).then(function(t){e[v].tigerConfig=t[0],e[l]()})},1e3*a.show_config.auto_change)}},{key:s,value:function(){return cc.director.getScene()._id==this[v].sceneId}},{key:"destroy",value:function(){var e=this[v],t=e.displayBtn,n=e.scheduleFpsTimer,r=e.autoSwitchTimer;if(t&&cc.isValid(t.node))return clearTimeout(n),clearTimeout(r),t&&t.node&&(t.node.active=!1),t.node.destroy()}}]),e}();t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=1,i=2,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"show",value:function(e,t){t.show_type==o?this.runScaleAction(e.node):t.show_type==i?this.shakeScreen(e.node):e.node.stopAllActions()}},{key:"shakeScreen",value:function(e){if(cc.isValid(e)){var t=e;e.stopAllActions(),t.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.02,cc.p(10,0)),cc.moveBy(.04,cc.p(-20)),cc.moveBy(.02,cc.p(10)),cc.moveBy(.02,cc.p(0,10)),cc.moveBy(.04,cc.p(0,-20)),cc.moveBy(.02,cc.p(0,10)),cc.moveBy(.02,cc.p(5,0)),cc.moveBy(.04,cc.p(-10,0)),cc.moveBy(.02,cc.p(5,0)),cc.moveBy(.02,cc.p(0,5)),cc.moveBy(.04,cc.p(0,-10)),cc.moveBy(.02,cc.p(0,5)),cc.delayTime(1))))}}},{key:"runScaleAction",value:function(e){if(cc.isValid(e)){e.stopAllActions(),e.scale=1;var t=cc.scaleTo(.3,1.2),n=cc.scaleTo(.3,1),r=cc.sequence(cc.repeat(cc.sequence(t,n),2),cc.delayTime(.5)),o=cc.repeatForever(r);e.runAction(o)}}}]),e}();t.default=a}]);